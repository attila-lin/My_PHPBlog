arp欺骗和ICMP重定向
======

为了跨网段的arp欺骗

###什么是ICMP重定向呢
            
ICMP重定向报文是ICMP控制报文中的一种。在特定的情况下，当路由器检测到一台机器使用非优化路由的时候，它会向该主机发送一个ICMP重定向报文，请求主机改变路由。路由器也会把初始数据报向它的目的地转发。

###步骤

发送一个原ip地址为192.168.0.3硬件地址为BB:BB:BB:BB:BB:BB（自己的mac地址）的ARP响应包。 好了，现在每台主机都知道了，一个新的MAC地址对应 192.0.0.3,一个ARP欺骗完成了，但是，每台主机都只会在局域网中找这个地址而根本就不会把发送给192.0.0.3的ip包丢给路由。于是他 还得构造一个ICMP的重定向广播。 自己定制一个ICMP重定向包告诉网络中的主机："到192.0.0.3的路由最短路径不是局域网，而是路由，请主机重定向你们的路由路径，把所有到192.0.0.3的ip包丢给路由。"主机A接受这个合理的ICMP重定向，于是修改自己的路由路径，把对192.0.0.3的通讯都丢给路由器。